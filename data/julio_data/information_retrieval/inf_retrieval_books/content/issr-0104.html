 7.5 Weighted Searches of Boolean Systems  The two major approaches to generating queries are Boolean and natural language. Natural language queries are easily represented within statistical models and are usable by the similarity measures discussed. Issues arise when Boolean queries are associated with weighted index systems. Some of the issues are associated with how the logic (AND, OR, NOT) operators function with weighted values and how weights are associated with the query terms. If the operators are interpreted in their normal interpretation, thay act too restrictive or too general (i.e., AND and OR operators respectively). Salton, Fox and Wu showed that using the strict definition of the operators will suboptimize the retrieval expected by the user (Salton-83a). Closely related to the strict definition problem is the lack of ranking that is missing from a pure Boolean process. Some of the early work addressing this problem recognized the fuzziness associated with mixing Boolean and weighted systems (Brookstein-78, Brookstein-80)  To integrate the Boolean and weighted systems model, Fox and Sharat proposed a fuzzy set approach (Fox-86). Fuzzy sets introduce the concept of degree of membership to a set (Zadeh-65). The degree of membership for AND and OR operations are defined as:  DEGAnB = min(DEGA, DEGB) DEGaub = max(DEGA, DEGB)  where A and B are terms in an item. DEG is the degree of membership. The Mixed Min and Max (MMM) model considers the similarity between query and document to be a linear combination of the minimum and maximum item weights. Fox proposed the following similarity formula:  SIM(QUERYOr, DOC) = C0R ,* max(DOCl,, DGC2....,DOCn) +  C0R2*min(D0Ci,DOC2,..., DOCn)  S!M(QUERYAND, DOC) = CAND1*min(DOC,,DOC2, ...,DOCn) + CAnd2* max(DOCl,, DOC2,...,DOCn)  where Cqri and C0R2 are weighting coefficients for the OR operation and Candi and CAkd2 are the weighting coefficients for the AND operation. Lee and Fox found in their experiments that the best performance comes when Candi is between 0.5 to 0.8 and COri is greater than 0.2. User Search Techniques                                                                             187  The MMM technique was expanded by Paice (Paice-84) considering all item weights versus the maximum/minimum approach. The similarity measure is calculated as:  SIM(QUERY DOC) =  where the d^s are inspected in ascending order for AND queries and descending order for OR queries. The r terms are weighting coefficients. Lee and Fox showed that the best values for r are 1.0 for AND queries and 0.7 for OR queries (Lee-88). This technique requires more computation since the values need to be stored in ascending or descending order and thus must be sorted.  An alternative approach is using the P-norm model which allows terms within the query to have weights in addition to the terms in the items. Similar to the Cosine similarity technique, it considers the membership values (dAJ ,..., dAn) to be coordinates in an "n" dimensional space. For an OR query, the origin (all values equal zero) is the worst possibility. For an AND query the ideal point is the unit vector where all the D; values equal 1. Thus the best ranked documents will have maximum distance from the origin in an OR query and minimal distance from the unit vector point. The generalized queries are:  Qor = (A,t,a0 OR (A2,a2) OR ...OR(An,an)  Qand = (A,,,a,) AND (A2,a2) AND ... AND (An,an)  The operators (AND and OR) will have a strictness value assigned that varies from 1 to infinity where infinity is the strict definition of the Boolean operator. The a, values are the query term weights. If we assign the strictness value to a parameter labeled "S" then the similarity formulas between queries and items are:  sds)/(af + a\ + ï ï ï + as  SIM(QOr,DOC) = $](a?dsAl + ï ï ï + asndsAn)/(af + a\ + ï ï ï + asn  SIM(QAND,DOC) = i - sJ  SIM(Qnot,DOC) = I - SIM(Q, DOC)  Another approach suggested by Salton provides additional insight into the issues of merging the Boolean queries and weighted query terms under the assumption that there are no weights available in the indexes (SaIton-83).   The  objective is to perform the normal Boolean operations and then refine the results using weighting techniques.   The following procedure is a modification to his 188                                                                                               Chapter 7  approach for defining search results. The normal Boolean operations produce the following results:  "A OR B" retrieves those items that contain the term A or the term B or both  "A AND B" retrieves those items that contain both terms A and B  "A NOT B"  retrieves those items that contain term A and not contain term B.  If weights are then assigned to the terms between the values 0.0 to 1.0, they may be interpreted as the significance that users are placing on each term. The value 1.0 is assumed to be the strict interpretation of a Boolean query. The value 0.0 is interpreted to mean that the user places little value on the term. Under these assumptions, a term assigned a value of 0.0 should have no effect on the retrieved set. Thus  "Aj OR Bo" should return the set of items that contain A as a term "Ai AND Bo" will also return the set of items that contain term A "Aj NOT Bo" also return set A.  This suggests that as the weight for term B goes from 0.0 to 1.0 the resultant set changes from the set of all items that contains term A to the set normally generated from the Boolean operation. The process can be visualized by use of the VENN diagrams shown in Figure 7.10. Under the strict interpretation "A] OR Bj" would include all items that are in all the areas in the VENN diagram. "Ai OR Bo" would be only those items in A (i.e., the whie and black dotted areas) which is everything except items in "B NOT A" (the grey area.) Thus as the value of query term B goes from 0.0 to 1.0, items from "B NOT A" are proportionally added until at 1.0 all of the items will be added.  Similarly, under the strict interpretation "Aj AND Bj" would include all of the items that are in the black dotted area. "A, AND Bo" will be all of the items in A as described above. Thus, as the value of query term B goes from 1.0 to 0.0 items will be proportionally added from "A NOT B" (white area) until at 0.0 all of the items will be added.  Finally, the strict interpretation of "As NOT Bt" is grey area while "Ai NOT Bo" is all of A. Thus as the value of B goes from 0.0 to 1.0, items are proportionally added from "A AND B" (black dotted area) until at 1.0 all of the items have been added.  The final issue is the determination of which items are to be added or dropped in interpreting the weighted values. Inspecting the items in the totally User Search Techniques  189  Figure 7.10 VENN Diagram  strict case (both terms having weight 1.0) and the case where the value is 0.0 there is a set of items that are in both solutions (invariant set). In adding items they should be the items most similar to the set of items that does not change in either situation. In dropping items, they should be the items least similar to those that are in both situations.  Thus the algorithm follows the following steps:  1.  Determine the items that are satisfied by applying strict interpretation of the Boolean functions  2.    Determine the items that are part of the set that is invariant  3.    Determine the Centroid of the invariant set  4.     Determine the number of items to be added or deleted by multiplying the term weight times the number of items outside of the invariant set and rounding up to the nearest whole number  5.    Determine  the  similarity  between   items  outside  of the invariant set and the Centroid  6.   Select the items to be included or removed from the final set  Figure 7.11 gives an example of solving a weighted Boolean query.  QUERY* ends up with a set containing all of the items that contain the  term "Computer" and two items from the set "computer" NOT "program."   The symbol \ ] stands for rounding up to the next integer. In QUERY2 the final set 190                                                                                               Chapter 7   Computer program cost sale  Dl 0 4 0 8  D2 0 2 0 0  D3 4 0 2 4  D4 0 6 4 6  D5 0 4 6 4  D6 6 0 4 0  D7 0 0 0 0  r_)C 4 2 0 2  Ql = QUERY] = Computer10 OR program 333 Q2 = QUERY, = cost 75 AND sale10  Ql strict interpretation = (Dl, D2, D3, D4, D5, D6, D8)  Q2stnctmterpretat1on =  Qluivariant=(D8) Q2invanant = (D3, D4, D5)  Qlopnonai = (Dl, D2, D3, D4, D5, D6) thus f.333 times 6 items] = 2 items Q2optonai = (Dl, D8) which means [ (1 - .75) times 2 items] = 1 item  Figure 7.11  Example of Weighted Boolean Query  contains all of set "cost" AND "sale" plus .25 of the set of "sale" NOT "cost." Using the simple similarity measure:  SIM(Item,, Itemj) = I (Term,,k) (Termjgt;k)  leads to the following set of similarity values based upon the centroids:  CENTROID (Ql) = (D8) = (4, 2, 0, 2)  CENTROID (Q2) = (D3, D4, D5) = 1/3(4+0+0, 0+6+4, 2+4+6, 4+6+4)  SIM(CENTROID0,,D1) = (0 + 8 + 0+16) =24 SIM(CENTROIDOi,D2)-(0 + 4 + 0 + 0)     =   4  SIM(CENTROIDQi,D3) = (16 + 0 + 0 + 8)   =24  SIM(CENTROIDQ|9D4) = (0 + 12 + 0 + 12) = 24 SIM(CENTROIDQ,,D5) = (0 + 8 + 0 + 8) =16 SIM(CENTROID0i,D6) = (24 + 0 + 0 + 0)   =24  SIM(CENTRO!Do:,Dl)= 1/3(0 + 40 + 0+ 112)       =1/3(152) SIM(CENTRGIDq2,D8) = 1/3(16 + 20 +0 +28)         = 1/3(64) User Search Techniques                                                                             191  For Ql, two additional items are added to the invariant set (D8) u (Dl, D3), by choosing the lowest number items because of the tie at 24, giving the answer of (Dl, D3, D8). For Q2, one additional item is added to the invariant set (D3, D4, D5) u (Dl) giving the answer (Dl, D3, D4, D5).   