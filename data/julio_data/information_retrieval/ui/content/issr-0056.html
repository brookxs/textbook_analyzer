 4.3         Inverted File Structure  The most common data structure used in both database management and Information Retrieval Systems is the inverted file structure. Inverted file structures are composed of three basic files: the document file, the inversion lists (sometimes called posting files) and the dictionary. The name 'inverted file" comes from its underlying methodology of storing an inversion of the documents: inversion of the document from the perspective that, for each word, a list of documents in which the word is found in is stored (the inversion list for that word). Each document in the system is given a unique numerical identifier. It is that identifier that is stored in the inversion list. The way to locate the inversion list for a particular word is via the Dictionary.   The Dictionary is typically a sorted list of all unique words Data Structure  83  (processing tokens) in the system and a pointer to the location of its inversion list (see Figure 4.5). Dictionaries can also store other information used in query optimization such as the length of inversion lists.  DOCUMENTS  DOC   #1,   computer, bit, byte  DOC    #2,    memory, byte  DOC   #3,   computer, bit, memory________  DOC       #4, computer  byte,  DICTIONARY  bit(2)  byte (3)  computer (3)  memory (2)  INVERSION LISTS -bit- 1,3 "byte- 1,2,4 Â¶computer - 1, 3, 4 -memory- 2, 3  Figure 4.5 Inverted File Structure  Additional information may be used from the item to increase precision and provide a more optimum inversion list file structure. For example, if zoning is used, the dictionary may be partitioned by zone. There could be a dictionary and set of inversion lists for the "Abstract" zone in an item and another dictionary and set of inversion lists for the "Main Body" zone. This increases the overhead when a user wants to search the complete item versus restricting the search to a specific zone. Another typical optimization occurs when the inversion list only contains one or two entries. Those entries can be stored as part of the dictionary. The inversion list contains the document identifier for each document in which the word is found. To support proximity, contiguous word phrases and term weighting algorithms, all occurrences of a word are stored in the inversion list along with the word position. Thus if the word "bit" was the tenth, twelfth and eighteenth word in document #1, then the inversion list would appear:  bit-1(10), 1(12), 1(18)  Weights can also be stored in inversion lists. Words with special characteristics are frequently stored in their own dictionaries to allow for optimum internal representation and manipulation (e.g., dates which require date ranging and numbers).  When a search is performed, the inversion lists for the terms in the query are located and the appropriate logic is applied between inversion lists. The result is a final hit list of items that satisfy the query. For systems that support ranking, the list is reorganized into ranked order. The document numbers are used to retrieve the documents from the Document File. Using the inversion lists in Figure 84  Chapter 4  4-5, the query (bit AND computer) would use the Dictionary to find the inversion lists for "bit" and "computer." These two lists would be logically ANDed: (1,3) AND (1,3,4) resulting in the final Hit list containing (1,3).  Rather than using a dictionary to point to the inversion list, B-trees can be used. The inversion lists may be at the leaf level or referenced in higher level pointers. Figure 4.6 shows how the words in Figure 4.5 would appear. A B-tree of order m is defined as:  A root node with between 2 and 2m keys  All other internal nodes have between m and 2m keys  All keys are kept in order from smaller to larger  All leaves are at the same level or differ by at most one level.  bit - 1,3  byte - 1, 2, 4  computer -1,3,4  memory -2, 3  Figure 4-6 B-Tree Inversion Lists  Cutting and Pedersen described use of B-trees as an efficient inverted file storage mechanism for data that undergoes heavy updates (Cutting-90).  The nature of Information systems is that items are seldom if ever modified once they are produced. Most commercial systems take advantage of this fact by allowing document files and their associated inversion lists to grow to a certain maximum size and then to freeze them, starting a new structure. Each of these databases of document file, dictionary, inversion lists is archived and made available for a user's query. This has the advantage that for queries only interested in more recent information, only the latest databases need to be searched.   Since Data Structure                                                                                             85  older items are seldom deleted or modified, the archived databases may be permanently backed-up, thus saving on operations overhead. Starting a new inverted database has significant overhead in adding new words and inversion lists until the frequently found words are added to the dictionary and inversion lists. Previous knowledge of archived databases can be used to establish an existing dictionary and inversion structure at the start of a new database, thus saving significant overhead during the initial adding of new documents2.  Inversion lists structures are used because they provide optimum performance in searching large databases. The optimality comes from the minimization of data flow in resolving a query. Only data directly related to the query are retrieved from secondary storage. Also there are many techniques that can be used to optimize the resolution of the query based upon information maintained in the dictionary.  Inversion list file structures are well suited to store concepts and their relationships. Each inversion list can be thought of as representing a particular concept. The inversion list is then a concordance of all of the items that contain that concept. Finer resolution of concepts can additionally be maintained by storing locations with an item and weights of the item in the inversion lists. With this information, relationships between concepts can be determined as part of search algorithms (see Chapter 7). Location of concepts is made easy by their listing in the dictionary and inversion lists. For Natural Language Processing algorithms, other structures may be more appropriate or required in addition to inversion lists for maintaining the required semantic and syntactic information.   