8.7 structural queries the algorithms to search on structured-text (see chapter 4) are largely dependent on each model . we extract their common features in this section . a first concern about this problem is how to store the structural-information . some implementations build an ad-hoc index to store the structure . this is potentially more efficient and independent of any consideration about the text . however , it requires extra development and maintenance effort . other techniques assume that the structure is marked in the text using ` tags ' (i.e. , strings that identify the structural elements) . this is the case with html text but not the case with c-code where the marks are implicit and are inherent to c . the technique relies on the same index to query content (such as inverted-files) , using it to index and search those tags as if they were words . in many cases this is as efficient as an ad-hoc index , and its integration into an existing text-database is simpler . moreover , it is possible to define the structure dynamically , since the appropriate tags can be selected at search-time . for that goal , inverted-files are better since they naturally deliver the results in text order , which makes the structure-information easier to obtain . on the other hand , some queries such as direct ancestry are hard to answer without an ad-hoc index . once the content and structural elements have been found by using some index , a set of answers is generated . the models allow further operations to be applied on tiiose answers , such as ` select all areas in the left-hand argument which contain an area of the right-hand argument / this is in general solved in a way very similar to the set manipulation techniques already explained in section 8.4 . however , the operations tend to be more complex , and it is not always possible to find an evaluation-algorithm which has linear-time with respect to the size of the intermediate results . it is worth mentioning that some models use completely different algorithms , such as exhaustive-search techniques for tree-pattern matching . those problems are np-complete in many cases .