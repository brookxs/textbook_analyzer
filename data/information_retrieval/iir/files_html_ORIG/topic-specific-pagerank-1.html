<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<html>
 <head> 
  <title>Topic-specific PageRank</title> 
  <meta name="description" content="Topic-specific PageRank" /> 
  <meta name="keywords" content="irbook" /> 
  <meta name="resource-type" content="document" /> 
  <meta name="distribution" content="global" /> 
  <meta name="Generator" content="LaTeX2HTML v2002-2-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <link rel="STYLESHEET" href="irbook.css" /> 
  <link rel="previous" href="the-pagerank-computation-1.html" /> 
  <link rel="up" href="pagerank-1.html" /> 
  <link rel="next" href="hubs-and-authorities-1.html" /> 
 </head> 
 <body> 
  <!--Navigation Panel--> 
  <a name="tex2html5064" href="hubs-and-authorities-1.html"> <img width="37" height="24" align="BOTTOM" border="0" alt="next" src="http://nlp.stanford.edu/IR-book/html/icons/next.png" /></a> 
  <a name="tex2html5058" href="pagerank-1.html"> <img width="26" height="24" align="BOTTOM" border="0" alt="up" src="http://nlp.stanford.edu/IR-book/html/icons/up.png" /></a> 
  <a name="tex2html5054" href="the-pagerank-computation-1.html"> <img width="63" height="24" align="BOTTOM" border="0" alt="previous" src="http://nlp.stanford.edu/IR-book/html/icons/prev.png" /></a> 
  <a name="tex2html5060" href="contents-1.html"> <img width="65" height="24" align="BOTTOM" border="0" alt="contents" src="http://nlp.stanford.edu/IR-book/html/icons/contents.png" /></a> 
  <a name="tex2html5062" href="index-1.html"> <img width="43" height="24" align="BOTTOM" border="0" alt="index" src="http://nlp.stanford.edu/IR-book/html/icons/index.png" /></a> 
  <br /> 
  <b> Next:</b> 
  <a name="tex2html5065" href="hubs-and-authorities-1.html">Hubs and Authorities</a> 
  <b> Up:</b> 
  <a name="tex2html5059" href="pagerank-1.html">PageRank</a> 
  <b> Previous:</b> 
  <a name="tex2html5055" href="the-pagerank-computation-1.html">The PageRank computation</a> &nbsp; 
  <b> <a name="tex2html5061" href="contents-1.html">Contents</a></b> &nbsp; 
  <b> <a name="tex2html5063" href="index-1.html">Index</a></b> 
  <br /> 
  <br /> 
  <!--End of Navigation Panel--> 
  <h2><a name="SECTION002623000000000000000"></a> <a name="sec:topic-specific-pagerank"></a> <a name="p:topic-specific-pagerank"></a> <br /> Topic-specific PageRank </h2> Thus far we have discussed the PageRank computation with a teleport operation in which the surfer jumps to a random web page chosen uniformly at random. We now consider teleporting to a random web page chosen 
  <em>non-uniformly</em>. In doing so, we are able to derive PageRank values tailored to particular interests. For instance, a sports aficionado might wish that pages on sports be ranked higher than non-sports pages. Suppose that web pages on sports are ``near'' one another in the web graph. Then, a random surfer who frequently finds himself on random sports pages is likely (in the course of the random walk) to spend most of his time at sports pages, so that the steady-state distribution of sports pages is boosted. 
  <p> Suppose our random surfer, endowed with a teleport operation as before, teleports to <em>a random web page on the topic of sports</em> instead of teleporting to a uniformly chosen random web page. We will not focus on how we collect all web pages on the topic of sports; in fact, we only need a non-zero subset <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" /> of sports-related web pages, so that the teleport operation is feasible. This may be obtained, for instance, from a manually built directory of sports pages such as the open directory project (<tt><a name="tex2html227" href="http://www.dmoz.org/">http://www.dmoz.org/</a></tt>) or that of Yahoo. </p>
  <p> Provided the set <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" /> of sports-related pages is non-empty, it follows that there is a non-empty set of web pages <img width="46" height="32" align="MIDDLE" border="0" src="img1935.png" alt="$Y \supseteq S$" /> over which the random walk has a steady-state distribution; let us denote this <em>sports PageRank</em> distribution by <img width="21" height="32" align="MIDDLE" border="0" src="img1936.png" alt="$\vec{\pi}_s$" />. For web pages not in <img width="15" height="32" align="MIDDLE" border="0" src="img1937.png" alt="$Y$" />, we set the PageRank values to zero. We call <img width="21" height="32" align="MIDDLE" border="0" src="img1936.png" alt="$\vec{\pi}_s$" /> the <a name="32490"></a> <i>topic-specific PageRank</i> for sports. </p>
  <p> </p>
  <div align="CENTER"> 
   <p><a name="fig:topicspecific"></a><a name="p:topicspecific"></a></p>
   <img width="588" height="483" align="BOTTOM" border="0" src="img1938.png" alt="\includegraphics[width=13cm]{topics.eps}" /> Topic-specific PageRank.In this example we consider a user whose interests are 60% sports and 40% politics. If the teleportation probability is 10%, this user is modeled as teleporting 6% to sports pages and 4% to politics pages. 
  </div> 
  <p> We do not demand that teleporting takes the random surfer to a uniformly chosen sports page; the distribution over teleporting targets <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" /> could in fact be arbitrary. </p>
  <p> In like manner we can envision topic-specific PageRank distributions for each of several topics such as science, religion, politics and so on. Each of these distributions assigns to each web page a PageRank value in the interval <img width="38" height="33" align="MIDDLE" border="0" src="img1939.png" alt="$[0,1
)$" />. For a user interested in only a single topic from among these topics, we may invoke the corresponding PageRank distribution when scoring and ranking search results. This gives us the potential of considering settings in which the search engine knows what topic a user is interested in. This may happen because users either explicitly register their interests, or because the system learns by observing each user's behavior over time. </p>
  <p> But what if a user is known to have a mixture of interests from multiple topics? For instance, a user may have an interest mixture (or <i>profile</i>) that is 60% sports and 40% politics; can we compute a <a name="32500"></a> <i>personalized PageRank</i> for this user? At first glance, this appears daunting: how could we possibly compute a different PageRank distribution for each user profile (with, potentially, infinitely many possible profiles)? We can in fact address this provided we assume that an individual's interests can be well-approximated as a linear combination of a small number of topic page distributions. A user with this mixture of interests could teleport as follows: determine first whether to teleport to the set <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" /> of known sports pages, or to the set of known politics pages. This choice is made at random, choosing sports pages 60% of the time and politics pages 40% of the time. Once we choose that a particular teleport step is to (say) a random sports page, we choose a web page in <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" /> uniformly at random to teleport to. This in turn leads to an ergodic Markov chain with a steady-state distribution that is personalized to this user's preferences over topics (see Exercise <a href="#ex:prob:perspagerank">21.2.3</a> ). </p>
  <p> While this idea has intuitive appeal, its implementation appears cumbersome: it seems to demand that for each user, we compute a transition probability matrix and compute its steady-state distribution. We are rescued by the fact that the evolution of the probability distribution over the states of a Markov chain can be viewed as a linear system. In Exercise <a href="#ex:prob:perspagerank">21.2.3</a> we will show that it is not necessary to compute a PageRank vector for every distinct combination of user interests over topics; the personalized PageRank vector for any user can be expressed as a linear combination of the underlying topic-specific PageRanks. For instance, the personalized PageRank vector for the user whose interests are 60% sports and 40% politics can be computed as <br /> </p>
  <div align="RIGHT"> 
   <!-- MATH
 \begin{equation}
0.6\vec{\pi}_s + 0.4\vec{\pi}_p,
\end{equation}
 --> 
   <table width="100%" align="CENTER"> 
    <tbody>
     <tr valign="MIDDLE">
      <td align="CENTER" nowrap=""><a name="eqn:perspage"></a><img width="99" height="30" border="0" src="img1940.png" alt="\begin{displaymath}
0.6\vec{\pi}_s + 0.4\vec{\pi}_p,
\end{displaymath}" /></td> 
      <td width="10" align="RIGHT"> (261)</td>
     </tr> 
    </tbody>
   </table> 
   <br clear="ALL" />
  </div>
  <p></p> where 
  <img width="21" height="32" align="MIDDLE" border="0" src="img1936.png" alt="$\vec{\pi}_s$" /> and 
  <img width="23" height="32" align="MIDDLE" border="0" src="img1941.png" alt="$\vec{\pi}_p$" /> are the topic-specific PageRank vectors for sports and for politics, respectively. 
  <p> <b>Exercises.</b> </p>
  <ul> 
   <li>Write down the transition probability matrix for the example in Figure <a href="markov-chains-1.html#fig:figmarkov">21.2</a> . <p> </p></li> 
   <li><a name="exer:123webgraph"></a>Consider a web graph with three nodes 1, 2 and 3. The links are as follows: 
    <!-- MATH
 $1\rightarrow 2, 3\rightarrow 2,
2\rightarrow 1, 2\rightarrow 3$
 --> <img width="190" height="32" align="MIDDLE" border="0" src="img1942.png" alt="$1\rightarrow 2, 3\rightarrow 2,
2\rightarrow 1, 2\rightarrow 3$" />. Write down the transition probability matrices for the surfer's walk with teleporting, for the following three values of the teleport probability: (a) <img width="43" height="32" align="MIDDLE" border="0" src="img1943.png" alt="$\alpha=0$" />; (b) <img width="55" height="32" align="MIDDLE" border="0" src="img1921.png" alt="$\alpha=0.5$" /> and (c) <img width="43" height="32" align="MIDDLE" border="0" src="img589.png" alt="$\alpha = 1$" />. <p> </p></li> 
   <li>A user of a browser can, in addition to clicking a hyperlink on the page <img width="12" height="32" align="MIDDLE" border="0" src="img58.png" alt="$x$" /> he is currently browsing, use the <i>back button</i> to go back to the page from which he arrived at <img width="12" height="32" align="MIDDLE" border="0" src="img58.png" alt="$x$" />. Can such a user of back buttons be modeled as a Markov chain? How would we model repeated invocations of the back button? <p> </p></li> 
   <li>Consider a Markov chain with three states A, B and C, and transition probabilities as follows. From state A, the next state is B with probability 1. From B, the next state is either A with probability <img width="23" height="32" align="MIDDLE" border="0" src="img1082.png" alt="$p_A$" />, or state C with probability <img width="51" height="32" align="MIDDLE" border="0" src="img1944.png" alt="$1-p_A$" />. From C the next state is A with probability 1. For what values of <img width="76" height="33" align="MIDDLE" border="0" src="img1945.png" alt="$p_A\in [0,1]$" /> is this Markov chain ergodic? <p> </p></li> 
   <li>Show that for any directed graph, the Markov chain induced by a random walk with the teleport operation is ergodic. <p> </p></li> 
   <li>Show that the PageRank of every page is at least <img width="37" height="31" align="MIDDLE" border="0" src="img1903.png" alt="$\alpha/N$" />. What does this imply about the difference in PageRank values (over the various pages) as <img width="12" height="32" align="MIDDLE" border="0" src="img524.png" alt="$\alpha$" /> becomes close to 1? <p> </p></li> 
   <li>For the data in Example&nbsp;<a href="the-pagerank-computation-1.html#biggraph">21.2.2</a>, write a small routine or use a scientific calculator to compute the PageRank values stated in Equation&nbsp;<a href="the-pagerank-computation-1.html#biggrapheqn">260</a>. <p> </p></li> 
   <li>Suppose that the web graph is stored on disk as an adjacency list, in such a way that you may only query for the out-neighbors of pages in the order in which they are stored. You cannot load the graph in main memory but you may do multiple reads over the full graph. Write the algorithm for computing the PageRank in this setting. <p> </p></li> 
   <li>Recall the sets <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" /> and <img width="15" height="32" align="MIDDLE" border="0" src="img1937.png" alt="$Y$" /> introduced near the beginning of Section <a href="#sec:topic-specific-pagerank">21.2.3</a> . How does the set <img width="15" height="32" align="MIDDLE" border="0" src="img1937.png" alt="$Y$" /> relate to <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" />? <p> </p></li> 
   <li>Is the set <img width="15" height="32" align="MIDDLE" border="0" src="img1937.png" alt="$Y$" /> always the set of all web pages? Why or why not? <p> </p></li> 
   <li><a name="ex:prob:sportrank"></a> Is the sports PageRank of any page in <img width="13" height="32" align="MIDDLE" border="0" src="img1679.png" alt="$S$" /> at least as large as its PageRank? <p> </p></li> 
   <li><a name="ex:prob:perspagerank"></a> Consider a setting where we have two topic-specific PageRank values for each web page: a sports PageRank <img width="21" height="32" align="MIDDLE" border="0" src="img1936.png" alt="$\vec{\pi}_s$" />, and a politics PageRank <img width="23" height="32" align="MIDDLE" border="0" src="img1941.png" alt="$\vec{\pi}_p$" />. Let <img width="12" height="32" align="MIDDLE" border="0" src="img524.png" alt="$\alpha$" /> be the (common) teleportation probability used in computing both sets of topic-specific PageRanks. For <img width="64" height="33" align="MIDDLE" border="0" src="img1946.png" alt="$q\in[0,1]$" />, consider a user whose interest profile is divided between a fraction <img width="12" height="32" align="MIDDLE" border="0" src="img161.png" alt="$q$" /> in sports and a fraction <img width="39" height="32" align="MIDDLE" border="0" src="img1947.png" alt="$1-q$" /> in politics. Show that the user's personalized PageRank is the steady-state distribution of a random walk in which - on a teleport step - the walk teleports to a sports page with probability <img width="12" height="32" align="MIDDLE" border="0" src="img161.png" alt="$q$" /> and to a politics page with probability <img width="39" height="32" align="MIDDLE" border="0" src="img1947.png" alt="$1-q$" />. <p> </p></li> 
   <li><a name="prob:perspagerank2"></a>Show that the Markov chain corresponding to the walk in Exercise <a href="#ex:prob:perspagerank">21.2.3</a> is ergodic and hence the user's personalized PageRank can be obtained by computing the steady-state distribution of this Markov chain. <p> </p></li> 
   <li>Show that in the steady-state distribution of Exercise&nbsp;<a href="#prob:perspagerank2">21.2.3</a>, the steady-state probability for any web page <img width="8" height="31" align="MIDDLE" border="0" src="img8.png" alt="$i$" /> equals 
    <!-- MATH
 $q\pi_s(i)+(1-q)\pi_p(i)$
 --> <img width="153" height="33" align="MIDDLE" border="0" src="img1948.png" alt="$q\pi_s(i)+(1-q)\pi_p(i)$" />. <p> </p></li> 
  </ul> 
  <p> </p>
  <hr /> 
  <!--Navigation Panel--> 
  <a name="tex2html5064" href="hubs-and-authorities-1.html"> <img width="37" height="24" align="BOTTOM" border="0" alt="next" src="http://nlp.stanford.edu/IR-book/html/icons/next.png" /></a> 
  <a name="tex2html5058" href="pagerank-1.html"> <img width="26" height="24" align="BOTTOM" border="0" alt="up" src="http://nlp.stanford.edu/IR-book/html/icons/up.png" /></a> 
  <a name="tex2html5054" href="the-pagerank-computation-1.html"> <img width="63" height="24" align="BOTTOM" border="0" alt="previous" src="http://nlp.stanford.edu/IR-book/html/icons/prev.png" /></a> 
  <a name="tex2html5060" href="contents-1.html"> <img width="65" height="24" align="BOTTOM" border="0" alt="contents" src="http://nlp.stanford.edu/IR-book/html/icons/contents.png" /></a> 
  <a name="tex2html5062" href="index-1.html"> <img width="43" height="24" align="BOTTOM" border="0" alt="index" src="http://nlp.stanford.edu/IR-book/html/icons/index.png" /></a> 
  <br /> 
  <b> Next:</b> 
  <a name="tex2html5065" href="hubs-and-authorities-1.html">Hubs and Authorities</a> 
  <b> Up:</b> 
  <a name="tex2html5059" href="pagerank-1.html">PageRank</a> 
  <b> Previous:</b> 
  <a name="tex2html5055" href="the-pagerank-computation-1.html">The PageRank computation</a> &nbsp; 
  <b> <a name="tex2html5061" href="contents-1.html">Contents</a></b> &nbsp; 
  <b> <a name="tex2html5063" href="index-1.html">Index</a></b> 
  <!--End of Navigation Panel--> 
  <address> &copy; 2008 Cambridge University Press<br />This is an automatically generated page. In case of formatting errors you may want to look at the <a href="http://informationretrieval.org">PDF edition</a> of the book.<br /> 2009-04-07 </address>   
 </body>
</html>