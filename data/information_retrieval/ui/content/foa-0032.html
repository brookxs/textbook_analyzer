 2.5.2 Fine Points  Changing Indices for Dynamic Corpora  One reason to keep raw frequency counts in the inverted keyword file used by our experimental implementation is that this provides maximum flexibility as we consider various keyword weighting schemes. But there is another reason these raw statistics are useful in real applications. EXTRACTING LEXICAL FEATURES  55  It is often important to be able to update a corpus's index as documents are added to or deleted from it. Retention of raw keyword frequency information allows these statistics to be updated as our corpus changes. Adding a new document simply requires that it be analyzed (as outlined earlier), simply incrementing existing counters for each keyword. ^ Similarly, deletion of documents from an index exploits the full text of the document itself to identify all keywords it contains. For each keyword then, posting counts are simply decremented.*  Implementation details  Posting Resolution  Typically we need only keep track of which document contains the posting. But an important element of many query languages is proximity operators, which allow users to specify how close two keywords must be (adjacent words, within the same sentence, within the same paragraph, within a fc-word window of one another, etc.). To support such queries, we may also be concerned with recording higher resolution posting information than which document it is in. For example, many systems retain the exact character position of the (beginning of the) keyword. Figure 2.6 shows the elaborate data structure used by the STAIRS IR system.^ In addition to very high-resolution postings, this representation supports other query attributes (e.g., security)."^  Emphasizing Proxy Text  The fact that keyword tokens occur in both the proxy text and the main text of the document gives us the opportunity to treat them differently. For example, we can emphasize the importance of words used in the proxy over those occurring in the raw text. This would be sensible if we believed that those occurrences in, for example, the subject of a message or the title of a dissertation, are better characterizations of a document than words picked from the text of the abstract or the text of the email message. In our code, this emphasis will be controlled by an integer variable EmphProxy, which notes occurrences of keywords in the proxy by doubling (EmphProxy = 2) or tripling (EmphProxy = 3) the keyword counters for proxy text.  More about STAIRS  Proximity searching with low-resolution posting  information  * The optimized fpost data structure makes this update awkward as well. 56      FINDING OUT ABOUT  Dictionary  Number of  documents to  which term is  assigned  FIGURE 2.6 STAIRS Posting Information  Reproduced with permission from Salton and McGill [Salton and McGill, 1983,  figure 8.5, p. 244]  Document Number  Because we have made the first stage of our processing flexible with  respect to how a corpus extends across multiple files in general, two  numbers will uniquely identify each of your documents: its file number and the document number within that file. For that reason, and because each posting must retain a unique identifier for each document, it becomes important to construct a single number that folds them together. Maintaining a single integer, instead of two integers, therefore becomes a worthwhile space-saver.  One simple way to accomplish this is to multiply the document's file number by some number larger than the maximum number of documents within any file, and then add its document number. Just EXTRACTING LEXICAL FEATURES       57  Subject:             Re: IDE or SCSI?  From:               helpful@urban.or.jp (me @ my humble abode)  Date:                1997/08/29  Message-Id:        lt;3406f93a.50446926@nnrp.gol.oomgt;  Newsgroups:      comp.os.ms-windows.nt.setup.hardware,comp. windows, nt.misc  [More Headers]  On Thu, 28 Aug 1997 23:10:03 GMT, Michael Query lt;query@dpi.qld.gov.augt; wrote:  gt;My question is, should I get another 2 Gb SCSI disk for putting the gt;0S (NT 4.0 WS), software, etc on, or should I get an IDE disk for this?  Having played around with different conngs for a while, I'd say go SCSI. I'd do that even if I had to get a second SCSI controller.  (You'll "hear" a lot of people arguing that IDE is good enough, but if you are after overall improved performance SCSI is best.)  my 2Y.  FIGURE 2.7 Quoted Lines in an Email Message  how large a number this must be and whether your machine/compiler efficiently supports integers this large (or whether you are better off keeping the two numbers separate) will vary considerably. For this reason it makes good sense to isolate these issues in a separate routine.  Dependencies on Document Type  The process of indexing has been idealized as having a first stage, where we worry about what kind of document it is (e.g., whether it's a thesis or an email message), and then assuming that subsequent processing is completely independent of document type. Like all software designs, this idealization breaks down in the face of real data.  Consider email messages. One common element of these documents is quoted text from another email message. Often this is marked by a gt; prefix, as shown in Figure 2.7. The role of interdocument citations like this is considered in depth in Section 6.1, but for now, a reasonable design decision is that all text should be indexed only once. This is especially appropriate if we have both the original email message and the quoted version of it; we might want to elide (ignore) quoted lines.  Other software designs are possible, but the easiest way to implement this is to check for quoted lines within the postdoc routine; if the first character of a line is a greater-than symbol don't do any of the subsequent processing. Don't check it against noise words, don't stem, don't index, 58      FINDING OUT ABOUT  and don't install it in the term tree. Unfortunately, this creates precisely the kind of email-specific processing that should be avoided by wellengineered software.   